
#Library notifygru

##Introduction

This library provided a service for sending notification to the GRU.

##Configuration

 **Mandatory** configuration has to be defined in your application.

Main service type is "fr.paris.lutece.plugins.librarynotifygru.services.NotificationService" which consume a NotifyGruGlobalNotification (see javadoc for details on the object). It required an implementation of "fr.paris.lutece.plugins.librarynotifygru.services.IHttpTransportProvider" for defining REST service call.Two implementation of this interface are given in the library :
 
* fr.paris.lutece.plugins.librarynotifygru.rs.service.NotificationTransportApiManagerRest, which use ApiManager WSO2
* fr.paris.lutece.plugins.librarynotifygru.rs.service.NotificationTransportRest, which use simple request without token management


These two implementations require URL definition of the notification service end point in property **notificationEndPoint** . Moreover ApiManager requires URL definition of the token service end point in property **apiManagerEndPoint** .

Finally, These two implementations are defined to make request with HttpAccess component of library-httpaccess. If it's not needed, the property **httpTransport** has to be overwritten by an implementation of "fr.paris.lutece.plugins.librarynotifygru.services.IHttpTransportProvider" interface.

##Examples of Spring configuration

 **Use ApiManager through HttpAccess** 
```

<bean id="apiTransport.httpAccess" class="fr.paris.lutece.plugins.librarynotifygru.rs.service.NotificationTransportApiManagerRest">
    <property name="notificationEndPoint">
        <value>http://mydomain.com:8080/rest/notif/send</value>
    </property>
    <property name="apiManagerEndPoint">
        <value>http://mydomain.com:8080/rest/token</value>
    </property>
</bean>
<bean id="notificationService.api.httpAccess" class="fr.paris.lutece.plugins.librarynotifygru.services.NotificationService">
    <constructor-arg ref="apiTransport.httpAccess"/>
</bean>
                    
```


 **Use without ApiManager through simple request** 
```

<bean id="simpleRestTransport" class="fr.paris.lutece.plugins.librarynotifygru.services.SimpleRestTransport" />
<bean id="restTransport.simpleRest" class="fr.paris.lutece.plugins.librarynotifygru.rs.service.NotificationTransportRest">
    <property name="notificationEndPoint">
        <value>http://mydomain.com:8080/rest/notif/send</value>
    </property>
    <property name="httpTransport">
        <ref bean="simpleRestTransport"/>
    </property>
</bean>
<bean id="notificationService.rest.simpleRest" class="fr.paris.lutece.plugins.librarynotifygru.services.NotificationService">
    <constructor-arg ref="restTransport.simpleRest"/>
</bean>
                    
```



[Maven documentation and reports](http://dev.lutece.paris.fr/plugins/library-notifygru/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*